# 项目设计文档

## 项目概述
本项目是一个学生信息管理系统，旨在提供全面的学生信息与成绩管理功能。主要功能包括：
- 提供 RESTful Web API 接口，实现学生数据的增删改查操作。
- 支持通过 Excel 文件批量导入学生基础信息。
- 对学生成绩进行细致管理，涵盖添加、修改、删除和查询成绩等操作。
- 提供登录认证功能，验证学生身份并返回对应学生信息与成绩。

## 技术栈
- **后端**：采用 Python 语言结合 Flask 框架开发，借助 Flask 轻量级、灵活的特性构建高效的 Web API。
- **数据库**：使用 MySQL 作为数据存储系统，保障数据的持久化与一致性。
- **前端**：运用基础的 HTML、CSS 和 JavaScript 实现简单的用户交互界面。
- **其他工具**：
  - `pandas` 库：用于处理 Excel 文件的读取与解析，实现学生数据的批量导入。
  - `Flask-CORS` 扩展：解决跨域请求问题，方便前后端分离开发。
  - `mysql-connector-python` 库：实现 Python 与 MySQL 数据库的稳定连接与数据交互。

## 文件结构
```
.
├── .git/                   # Git 版本控制目录
├── .gitignore              # 配置 Git 需忽略的文件和目录
├── .vscode/                # VS Code 编辑器配置目录
├── app/                    # Flask 应用主目录
│   ├── login/              # 登录相关业务模块
│   │   └── routes.py       # 登录接口路由定义
│   ├── score/              # 成绩相关业务模块
│   │   └── routes.py       # 成绩接口路由定义
│   ├── students/           # 学生信息业务模块
│   │   └── routes.py       # 学生接口路由定义
│   ├── upload/             # 文件上传业务模块
│   │   └── routes.py       # Excel 文件导入接口定义
│   └── utility/            # 公共工具类或函数目录
│       ├── __init__.py     # 初始化模块
│       ├── database.py     # 数据库操作公共方法
│       └── helpers.py      # 辅助函数集合
├── app.py                  # 主应用程序入口文件，负责启动 Flask 应用
├── config.py               # 项目配置文件，包含数据库连接参数、密钥等配置项
├── db/                     # 数据库相关脚本目录
│   ├── migrations/         # 数据库迁移脚本
│   └── models/             # 数据模型定义
├── docs/                   # 文档资源目录
│   ├── app_design.md       # 项目设计文档（当前文件）
│   └── db_desing.md        # 数据库设计文档
├── factory.py              # 应用工厂模块，负责创建和配置 Flask 应用实例
├── readme.md               # 项目说明文档，介绍项目基本信息和使用方法
└── requirements.txt        # 项目依赖包列表，记录项目运行所需的 Python 库及其版本
```

## 核心模块说明

### 登录模块 (`app/login/`)
- 处理用户身份验证逻辑
- 提供 `/login` 接口，支持 POST 请求方式
- 验证用户名和密码，并返回对应学生信息及成绩

### 学生模块 (`app/students/`)
- 管理学生基本信息
- 提供 `/students` 接口，支持 GET 请求获取所有学生信息
- 后续可扩展更多学生信息管理接口

### 成绩模块 (`app/score/`)
- 管理学生成绩信息
- 提供以下核心接口：
  - `/score/<student_id>`: 获取指定学生的成绩
  - `/score`: 添加新成绩
  - `/score/<student_id>/<score_id>`: 更新或删除特定成绩

### 上传模块 (`app/upload/`)
- 处理文件上传操作
- 支持 Excel 文件格式(.xlsx, .xls)
- 提供 `/upload/import` 接口，支持 POST 请求方式
- 实现学生数据的批量导入功能

### 工具模块 (`app/utility/`)
- 包含数据库操作工具类
- 提供通用辅助函数
- 可扩展为日志管理、错误码定义等功能模块

## 应用架构

### 应用初始化 (`factory.py`)
- 使用应用工厂模式创建和配置 Flask 应用实例
- 加载配置参数（从 `config.py`）
- 初始化扩展（如 CORS）
- 注册各业务蓝图

### 请求处理流程
1. 客户端发送 HTTP 请求至服务器
2. Flask 接收请求并根据 URL 路由到相应的业务模块
3. 业务模块处理请求，调用工具模块完成具体数据库操作
4. 返回 JSON 格式响应给客户端

### 数据访问层设计
1. **接口层**：各业务模块定义具体的 API 接口
2. **服务层**：处理核心业务逻辑
3. **数据访问层**：封装数据库操作，提供统一的数据访问接口

## 优势特点
- **清晰的模块划分**：每个业务功能独立成模块，提高代码可维护性
- **灵活的配置管理**：通过 `config.py` 集中管理配置参数，便于环境适配
- **良好的扩展性**：模块化设计便于后续新增业务功能
- **标准化的接口设计**：RESTful API 设计规范，提升接口易用性和一致性

## 注意事项
- 各模块之间保持松耦合，避免交叉引用
- 新增功能时应遵循现有模块划分原则，保持代码组织结构清晰