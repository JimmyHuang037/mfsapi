# API é¡¹ç›®è¯´æ˜

## é¡¹ç›®æ¦‚è¿°
æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº Flask çš„ API æœåŠ¡ï¼Œæ—¨åœ¨æä¾›å­¦ç”Ÿæ•°æ®çš„é›†ä¸­ç®¡ç†åŠŸèƒ½ã€‚æ”¯æŒé€šè¿‡ Excel æ–‡ä»¶æ‰¹é‡æ›´æ–°æ•°æ®ï¼Œå¹¶æä¾› RESTful æ¥å£å¯¹å­¦ç”Ÿæ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚

## æ ¸å¿ƒåŠŸèƒ½
- **Excel æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒé€šè¿‡ API ä¸Šä¼  Excel æ–‡ä»¶ï¼Œæ‰¹é‡æ›´æ–°å­¦ç”Ÿæ•°æ®ã€‚
- **å­¦ç”Ÿæ•°æ®ç®¡ç†**ï¼šæä¾› RESTful æ¥å£å¯¹å­¦ç”Ÿæ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚
- **æˆç»©ç®¡ç†**ï¼šæ”¯æŒå¯¹å­¦ç”Ÿæˆç»©å’Œå­¦ç§‘ä¿¡æ¯çš„ç®¡ç†ã€‚
- **ç”¨æˆ·ç™»å½•**ï¼šå®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§ã€‚

## ç›®å½•ç»“æ„
```
.
â”œâ”€â”€ app
â”‚   â”œâ”€â”€ login
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”œâ”€â”€ score
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”œâ”€â”€ students
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”œâ”€â”€ upload
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â””â”€â”€ utility
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ database.py
â”‚       â”œâ”€â”€ routes.py
â”‚       â””â”€â”€ student.py
â”œâ”€â”€ db
â”‚   â””â”€â”€ db.sql
â”œâ”€â”€ config.py
â”œâ”€â”€ factory.py
â”œâ”€â”€ readme.md
â”œâ”€â”€ resume.md
â””â”€â”€ run.py
```

## æ¨¡å—è¯´æ˜
- **app**: ä¸»è¦çš„åŠŸèƒ½æ¨¡å—ï¼ŒåŒ…å«ç™»å½•ã€æˆç»©ç®¡ç†ã€å­¦ç”Ÿç®¡ç†ã€æ–‡ä»¶ä¸Šä¼ ç­‰åŠŸèƒ½ã€‚
  - `login`: ç”¨æˆ·ç™»å½•ç›¸å…³é€»è¾‘ã€‚
  - `score`: æˆç»©ç®¡ç†æ¨¡å—ã€‚
  - `students`: å­¦ç”Ÿä¿¡æ¯ç®¡ç†æ¨¡å—ã€‚
  - `upload`: æ–‡ä»¶ä¸Šä¼ å¤„ç†æ¨¡å—ã€‚
  - `utility`: å·¥å…·ç±»æ¨¡å—ï¼ŒåŒ…å«æ•°æ®åº“æ“ä½œå’Œå­¦ç”Ÿç›¸å…³çš„å·¥å…·å‡½æ•°ã€‚
- **db**: æ•°æ®åº“ç›¸å…³æ–‡ä»¶ã€‚
  - `db.sql`: æ•°æ®åº“è„šæœ¬ï¼Œç”¨äºåˆå§‹åŒ–æ•°æ®åº“è¡¨ã€‚
- **config.py**: é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ•°æ®åº“è¿æ¥ä¿¡æ¯ç­‰ã€‚
- **factory.py**: åº”ç”¨å·¥å‚æ¨¡å¼å®ç°ï¼Œç”¨äºåˆ›å»º Flask åº”ç”¨å®ä¾‹å¹¶åŠ è½½é…ç½®ã€‚
- **run.py**: åº”ç”¨å¯åŠ¨å…¥å£æ–‡ä»¶ã€‚
- **readme.md**: é¡¹ç›®è¯´æ˜æ–‡æ¡£ã€‚
- **resume.md**: ä¸ªäººç®€å†æ–‡ä»¶ã€‚

## ä½¿ç”¨è¯´æ˜
1. **å¯åŠ¨åº”ç”¨**ï¼šè¿è¡Œ `run.py` æ–‡ä»¶ã€‚
2. **ä¸Šä¼  Excel æ–‡ä»¶**ï¼šé€šè¿‡æŒ‡å®šçš„ API æ¥å£ä¸Šä¼  Excel æ–‡ä»¶ä»¥æ›´æ–°å­¦ç”Ÿæ•°æ®ã€‚
3. **ä½¿ç”¨ curl å‘½ä»¤**ï¼šå¯¹å­¦ç”Ÿæ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥æ“ä½œã€‚

## æ•°æ®åº“é…ç½®
- æ•°æ®åº“è¿æ¥ä¿¡æ¯åœ¨ `config.py` ä¸­é…ç½®ã€‚
- ä½¿ç”¨ `db.sql` è„šæœ¬åˆå§‹åŒ–æ•°æ®åº“è¡¨ã€‚

## æ³¨æ„äº‹é¡¹
- ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹ã€‚
- åœ¨ä¸Šä¼  Excel æ–‡ä»¶å‰ï¼Œè¯·ç¡®ä¿æ–‡ä»¶æ ¼å¼æ­£ç¡®ã€‚
- ä½¿ç”¨ curl å‘½ä»¤æ—¶ï¼Œè¯·ç¡®ä¿å‚æ•°ä¼ é€’æ­£ç¡®ã€‚

ğŸ‘‰ [æŸ¥çœ‹ä¸ªäººç®€å†ï¼ˆresume.mdï¼‰](./resume.md)


# Jenkins å®‰è£…æŒ‡å— (Ubuntu Linux)

## å®‰è£…æ­¥éª¤

1. æ·»åŠ å®˜æ–¹ä»“åº“å¯†é’¥å’Œæºï¼š
```bash
curl -fsSL https://pkg.jenkins.io/debian-stable/jenkins.io.key | sudo tee /usr/share/keyrings/jenkins-keyring.asc > /dev/null
echo "deb [signed-by=/usr/share/keyrings/jenkins-keyring.asc] https://pkg.jenkins.io/debian-stable binary/" | sudo tee /etc/apt/sources.list.d/jenkins.list > /dev/null
ä¼˜åŒ–APTä¸‹è½½é€Ÿåº¦ï¼ˆå¯é€‰ï¼‰ï¼š

bash
echo 'Acquire::http::Pipeline-Depth "10";' | sudo tee /etc/apt/apt.conf.d/90http-pipeline
echo 'Acquire::http::No-Cache true;' | sudo tee -a /etc/apt/apt.conf.d/90http-pipeline
å®‰è£…Jenkinsï¼š

bash
sudo apt-get update
sudo apt-get install jenkins
åŸºæœ¬ç®¡ç†å‘½ä»¤
å¯åŠ¨æœåŠ¡ï¼šsudo systemctl start jenkins
åœæ­¢æœåŠ¡ï¼šsudo systemctl stop jenkins
æŸ¥çœ‹çŠ¶æ€ï¼šsudo systemctl status jenkins
æŸ¥çœ‹åˆå§‹å¯†ç ï¼šsudo cat /var/lib/jenkins/secrets/initialAdminPassword
è®¿é—®Jenkins
ç¡®ä¿é˜²ç«å¢™å…è®¸8080ç«¯å£ï¼š

bash
sudo ufw allow 8080
sudo ufw enable
åœ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://<æœåŠ¡å™¨IP>:8080
æ³¨æ„äº‹é¡¹
å®‰è£…å®Œæˆåä¼šè‡ªåŠ¨åˆ›å»ºjenkinsç”¨æˆ·å’Œç»„
æœåŠ¡é…ç½®æ–‡ä»¶ä½äºï¼š/etc/default/jenkins
æ•°æ®ç›®å½•ä½äºï¼š/var/lib/jenkins